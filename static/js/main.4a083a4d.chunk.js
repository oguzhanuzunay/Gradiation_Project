(this["webpackJsonpgraduation-project"]=this["webpackJsonpgraduation-project"]||[]).push([[0],{40:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},71:function(e){e.exports=JSON.parse("{}")},79:function(e,t){},81:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),c=n(18),i=n.n(c),s=(n(54),n(12)),r=(n(55),n(49).a.initializeApp({apiKey:"AIzaSyDcP7Js2l9b6jsTe3bWs6kxNqs70-qMqhs",authDomain:"graduation-project-86023.firebaseapp.com",projectId:"graduation-project-86023",storageBucket:"graduation-project-86023.appspot.com",messagingSenderId:"1046852282632",appId:"1:1046852282632:web:c8fd09ebdd3ca25241e4bd",measurementId:"G-D1R0LEF16H"})),l=(n(60),n(3)),d=function(e){var t=e.email,n=e.password,a=e.setEmail,o=e.setPassword,c=e.handleLogin,i=e.handleSignUp,s=e.hasAccount,r=e.setHasAccount,d=e.emailError,u=e.passwordError;return Object(l.jsx)("section",{className:"login",children:Object(l.jsxs)("div",{className:"loginContainer",children:[Object(l.jsx)("label",{children:"Username"}),Object(l.jsx)("input",{type:"text",autoFocus:!0,required:!0,value:t,onChange:function(e){return a(e.target.value)}}),Object(l.jsx)("p",{className:"errorMsg",children:d}),Object(l.jsx)("label",{children:"Password"}),Object(l.jsx)("input",{type:"password",required:!0,value:n,onChange:function(e){return o(e.target.value)}}),Object(l.jsx)("p",{className:"errorMsg",children:u}),Object(l.jsx)("div",{className:"btnContainer",children:s?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"purpleButton",onClick:c,children:"Sign In"}),Object(l.jsxs)("p",{children:["Don't have an account ?",Object(l.jsx)("span",{onClick:function(){r(!s)},children:"Sign Up"})]})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"purpleButton",onClick:i,children:"Sign Up"}),Object(l.jsxs)("p",{children:["Have an account ?",Object(l.jsx)("span",{onClick:function(){return r(!s)},children:"Sign In"})]})]})})]})})},u=n(24),b=(n(62),n.p+"static/media/LoadingGif.5b5d185a.gif"),j=(n(63),function(){return Object(l.jsx)("div",{style:{},className:"loadingContainer",children:Object(l.jsx)("img",{src:b,style:{marginTop:"50px"}})})}),p=(n(40),n(41),n(27)),f=n(38),g=n.n(f),h=n(45),O=n.p+"static/media/marker-green.765dbd94.png",m=n.p+"static/media/marker-red.c1a315c1.png",y=n(33),x=n(28),v=(n(65),function(e){var t=e.panTo,n=e.setCordinate1,a=e.setCordinate2,o=e.type,c=e.onPositionSelect,i=e.onFinishSelect,s=e.clearOldPoint,r=e.setOrigin,d=e.setDestination,u=e.setLimit,b=Object(y.a)({requestOptions:{location:{lat:function(){return 43.65324},lng:function(){return-79.3832}},radius:2e5}}),j=b.ready,p=b.value,f=b.suggestions,v=f.status,C=f.data,S=b.setValue,w=b.clearSuggestions;return Object(l.jsx)("div",{className:"search",children:Object(l.jsxs)(x.a,{style:{zIndex:2},onSelect:function(){var e=Object(h.a)(g.a.mark((function e(l){var b,j,p,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),d(""),u(0),S(l,!1),w(),e.prev=5,e.next=8,Object(y.b)({address:l});case 8:return b=e.sent,e.next=11,Object(y.c)(b[0]);case 11:j=e.sent,p=j.lat,f=j.lng,"startPoint"===o?(s("start"),n({x:p,y:f}),c(p,f,O,"start")):(s("finish"),a({x:p,y:f}),i(p,f,m,"finish")),t({lat:p,lng:f}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(l.jsx)(x.b,{style:{zIndex:2},value:p,onChange:function(e){S(e.target.value)},disabled:!j,placeholder:"Enter an Adress"}),Object(l.jsx)(x.e,{style:{zIndex:2},children:Object(l.jsx)(x.c,{style:{zIndex:2},children:"OK"===v&&C.map((function(e){var t=e.id,n=e.description;return Object(l.jsx)(x.d,{value:n},t)}))})})]})})}),C=n.p+"static/media/compass.b76dcbdb.png",S=function(e){var t=e.panTo,n=e.setCordinate1,a=e.clearOldPoint,o=e.onPositionSelect;return Object(l.jsx)("button",{className:"locate",onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var c=e.coords.latitude,i=e.coords.longitude;a("start"),o(c,i,O,"start"),t({lat:c,lng:i}),n({x:c,y:i})}),(function(){return null}))},children:Object(l.jsx)("img",{src:C,alt:"compass - locate me"})})},w=n(88),A=n(87),k=n(86),T=n(48),P=n(89),R=n(46),I=n.n(R),L=n(30),E=(n(71),["places"]),D={width:"100%",height:"92vh"},N={lat:43.653225,lng:-79.383186},F={styles:[{featureType:"all",elementType:"geometry.fill",stylers:[{weight:"2.00"}]},{featureType:"all",elementType:"geometry.stroke",stylers:[{color:"#9c9c9c"}]},{featureType:"all",elementType:"labels.text",stylers:[{visibility:"on"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"landscape",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#eeeeee"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#7b7b7b"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#c8d7d4"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#070707"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]}],disableDefaultUI:!0,zoomControl:!0},B={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.1,clickable:!1,draggable:!1,editable:!1,visible:!1,radius:0,zIndex:1},M=[{lat:43.14506241157973,lng:-80.31427730859374,time:new Date(86400001),info:"Accident on Tanner Rd at Pennbrooke Ln."},{lat:43.321157725277914,lng:-80.75373043359374,time:new Date(86400002),info:"Accident on Houston Branch Rd at Providence Branch Ln."},{lat:42.92422789558916,lng:-80.96796383203124,time:new Date(86400003),info:"Accident on I-595 Westbound at Exit 4 / Pine Island Rd."}],z=["At TN-248/Peytonsville Rd/Exit 61 - Accident. Right lane blocked.","At Magic Mountain Pky - Accident. Hard shoulder blocked.","Restrictions due to accident on US-92 at Bethlehem Rd.","At Northwest Hwy/Exit 11 - Accident.","Accident on Fort Lowell Rd at Avenida del Clarin.","At I-287/W Oakland Ave - Accident.","Accident on Westpark Dr at 14th St.","Accident on CA-2 Southbound at Exit 13 I-5.","Incident on SIERRA AVE near LYTLE CREEK RD Expect delays.","Incident on I-94 WB near I-696 Drive with caution.","Lane blocked due to accident on I-285 Eastbound at Exit 29 Ashford Dunwoody Rd.","Accident on US-401 Main St Northbound at NC-42 NC 55 Hwy.","Accident on Chimney Rock Rd at US-90 Alt Main St.","At McLean Ave/Exit 3 - Accident. Left lane blocked.","Lane blocked due to accident on I-680 Northbound at Exit 53 CA-4.","Accident on I-26 Eastbound at Exit 213B Montague Ave.","Accident on Research Blvd Southbound at Pavilion Blvd.","At CA-22/Garden Grove Fwy - Accident.","Accident on 17 Mile Rd at Stout Ave.","Accident on I-90 Eastbound at Exit 48A."],U=function(e,t){return function(e,t){var n=(e.x+t.x)/2,a=(e.y+t.y)/2;return console.log("Orta Nokta \nX: ".concat(n," \nY: ").concat(a)),{lat:n,lng:a}}(e,t)},W=function(e){var t,n=e.closeRide,a=e.panTo,o=e.setCordinate1,c=e.setCordinate2,i=e.onPositionSelect,s=e.clearOldPoint,r=e.setOrigin,d=e.setDestination,u=e.setLimit,b=e.onFinishSelect,j=e.clearAllPoint,f=e.cordinate1,g=e.cordinate2,h=e.setCircleRender,O=e.setCircleCenter,m=e.changeRadius,y=e.onDataLoadShowMarker;return Object(l.jsx)(I.a,{children:Object(l.jsxs)(w.a,{className:"card",style:{opacity:.85,borderColor:"#603bbb !important",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:"1",border:"solid 5px #603bbb"},children:[Object(l.jsxs)(w.a.Header,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(l.jsx)("h1",{children:"Start Ride"}),Object(l.jsx)("button",{style:{color:"#603bbb",border:"0",backgroundColor:"rgba(255,0,0,0)",height:"20px",right:"12px",top:"0px",padding:"0px",fontWeight:"900"},onClick:function(){return n()},children:"X"})]}),Object(l.jsxs)(w.a.Body,{className:"m2",children:[Object(l.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(l.jsx)(A.a.Label,{children:"Choose a starting location."}),Object(l.jsxs)(k.a,{children:[Object(l.jsx)(T.a,{sm:10,children:Object(l.jsx)(v,{panTo:a,type:"startPoint",setCordinate1:o,setCordinate2:c,onPositionSelect:i,clearOldPoint:s,setOrigin:r,setDestination:d,setLimit:u})}),Object(l.jsx)(T.a,{sm:2,style:{padding:"0px"},children:Object(l.jsx)(S,{setLimit:u,panTo:a,setCordinate1:o,clearOldPoint:s,onPositionSelect:i,setOrigin:r,setDestination:d})})]}),Object(l.jsx)(A.a.Text,{className:"text-muted",children:"Choose your starting location for driving"})]}),Object(l.jsxs)(A.a.Group,{controlId:"formBasicEmail",children:[Object(l.jsx)(A.a.Label,{children:"Choose destination location"}),Object(l.jsx)(v,{style:{margin:"20px",top:"3rem"},type:"endPoint",panTo:a,setCordinate1:o,setCordinate2:c,onFinishSelect:b,clearOldPoint:s,setOrigin:r,setDestination:d,setLimit:u}),Object(l.jsxs)(A.a.Text,{className:"text-muted",children:["Choose your destination for driving"," "]})]}),Object(l.jsx)(P.a,(t={clearAllPoint:j,variant:"primary",style:{backgroundColor:"#603bbb",borderColor:"#603bbb"},type:"submit",size:"lg"},Object(p.a)(t,"type","calculateDistance"),Object(p.a)(t,"block",!0),Object(p.a)(t,"clearOldPoint",s),Object(p.a)(t,"onClick",(function(){n(!0),j(),U(f,g),r({lat:parseFloat(f.x),lng:parseFloat(f.y)}),d({lat:parseFloat(g.x),lng:parseFloat(g.y)}),h(!0),m(0),m(437*function(e,t){var n=Math.hypot(e.x-t.x,e.y-t.y);return console.log("distance :",100*n),100*n}(f,g)),O(U(f,g)),y(function(e,t){console.table([e,t]);for(var n=[],a=0,o=0;o<20;o++){if(a++,e.x<t.x)var c=L.a.float(t.x,e.x);else c=L.a.float(e.x,t.x);if(e.y<t.y)var i=L.a.float(t.y,e.y);else i=L.a.float(e.y,t.y);n.push({lat:c,lng:i,time:new Date(864e5+a),info:"".concat(z[o])})}return console.log(n),n}(f,g))})),Object(p.a)(t,"children","Submit"),t))]})]})})},H=n.p+"static/media/crash.fdfdcd80.png",q=n(23),G=function(e){B.radius=e},K=function(e){var t=e.startRide,n=e.closeRide,c=e.setResponse,i=e.response,r=Object(q.g)({googleMapsApiKey:"AIzaSyAfnXHBS80WU5DFMjNhQu9Zb42EdV_41qQ",libraries:E}),d=r.isLoaded,b=r.loadError,p=o.a.useState([]),f=Object(s.a)(p,2),g=f[0],h=f[1],m=Object(a.useState)(!1),y=Object(s.a)(m,2),x=y[0],v=y[1],C=Object(a.useState)({}),S=Object(s.a)(C,2),w=S[0],A=S[1],k=o.a.useState(null),T=Object(s.a)(k,2),P=T[0],R=T[1],I=o.a.useState(""),L=Object(s.a)(I,2),z=L[0],U=L[1],K=Object(a.useState)({x:0,y:0}),J=Object(s.a)(K,2),V=J[0],X=J[1],Q=Object(a.useState)({x:0,y:0}),Y=Object(s.a)(Q,2),Z=Y[0],_=Y[1],$=Object(a.useState)(""),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),oe=Object(s.a)(ae,2),ce=oe[0],ie=oe[1],se=Object(a.useState)(0),re=Object(s.a)(se,2),le=re[0],de=re[1],ue=o.a.useCallback((function(){h((function(){return[]}))}),[]),be=o.a.useCallback((function(e){h((function(t){return[].concat(Object(u.a)(t),[{lat:e.latLng.lat(),lng:e.latLng.lng(),time:new Date,info:""}])}))}),[]),je=o.a.useCallback((function(e){h((function(t){return Object(u.a)(t).concat(e)}))}),[]),pe=o.a.useCallback((function(e,t,n,a){h((function(o){return[].concat(Object(u.a)(o),[{lat:e,lng:t,time:new Date,info:"".concat(a," Point"),url:n||O,type:a}])})),console.log(a,e,t)}),[]),fe=o.a.useCallback((function(e,t,n,a){pe(e,t,n,a)}),[]),ge=o.a.useRef(),he=o.a.useCallback((function(e){ge.current=e,je(M)}),[]),Oe=o.a.useCallback((function(e){var t=e.lat,n=e.lng,a=e.zoom;ge.current.panTo({lat:t,lng:n}),ge.current.setZoom(a||10)}));return b?"Error loading Maps":d?Object(l.jsxs)("div",{children:[!!t&&Object(l.jsx)(W,{onDataLoadShowMarker:je,closeRide:n,panTo:Oe,setCordinate1:X,setCordinate2:_,onPositionSelect:pe,clearOldPoint:function(e){console.log(g.map((function(e){return e.type})));var t=g.filter((function(t){return t.type!==e}));console.log(t),h((function(){return Object(u.a)(t)}))},setOrigin:ie,setDestination:ne,setLimit:de,onFinishSelect:fe,clearAllPoint:ue,cordinate1:V,cordinate2:Z,setCircleRender:v,setCircleCenter:A,changeRadius:G}),Object(l.jsxs)(q.d,{mapContainerStyle:D,zoom:8,center:N,options:F,onClick:be,onLoad:he,children:[g.map((function(e){return Object(l.jsx)(q.f,{animation:window.google.maps.Animation.DROP,position:{lat:e.lat,lng:e.lng},icon:{url:e.url||H,scaledSize:new window.google.maps.Size(32,32),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(15,15)},onClick:function(){U(e.info),R(e)}},e.time.toISOString())})),P?Object(l.jsx)(q.e,{position:{lat:P.lat,lng:P.lng},onCloseClick:function(){R(null)},children:Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"Potanciel Crash"}),Object(l.jsx)("p",{children:z})]})}):null,""!==te&&""!==ce&&Object(l.jsx)(q.c,{options:{destination:te,origin:ce,travelMode:"DRIVING"},callback:function(e){console.log(e),null!==e&&le<2&&(de(le+1),console.log(le),"OK"===e.status?c(e):console.log("response: ",e))},onLoad:function(e){console.log("DirectionsService onLoad directionsService: ",e)},onUnmount:function(e){console.log("DirectionsService onUnmount directionsService: ",e)}}),null!==i&&Object(l.jsx)(q.b,{options:{directions:i},onLoad:function(e){console.log("DirectionsRenderer onLoad directionsRenderer: ",e)},onUnmount:function(e){console.log("DirectionsRenderer onUnmount directionsRenderer: ",e)}}),x&&Object(l.jsx)(q.a,{center:w,options:B})]})]}):Object(l.jsx)(j,{})},J=(n(81),function(e){var t=e.handleLogOut,n=Object(a.useState)(!0),o=Object(s.a)(n,2),c=o[0],i=o[1],r=Object(a.useState)(null),d=Object(s.a)(r,2),u=d[0],b=d[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("section",{className:"hero",children:[Object(l.jsxs)("nav",{children:[Object(l.jsxs)("div",{className:"cont",children:[Object(l.jsx)("h2",{children:"Welcome"}),Object(l.jsx)("button",{className:"purpleButton",children:"Map"}),Object(l.jsx)("button",{className:"purpleButton",onClick:function(){i(!0)},children:"Start"})]}),Object(l.jsx)("div",{className:"cont right",children:Object(l.jsx)("button",{className:"purpleButton",onClick:t,children:"Logout"})})]}),Object(l.jsx)(K,{startRide:c,closeRide:function(){i(!1)},setStartRide:i,response:u,setResponse:b})]})})}),V=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),i=Object(s.a)(c,2),u=i[0],b=i[1],j=Object(a.useState)(""),p=Object(s.a)(j,2),f=p[0],g=p[1],h=Object(a.useState)(""),O=Object(s.a)(h,2),m=O[0],y=O[1],x=Object(a.useState)(""),v=Object(s.a)(x,2),C=v[0],S=v[1],w=Object(a.useState)(!1),A=Object(s.a)(w,2),k=A[0],T=A[1],P=function(){y(""),S("")},R=function(){r.auth().onAuthStateChanged((function(e){e?(b(""),g(""),o(e)):o("")}))};return Object(a.useEffect)((function(){R()}),[R]),Object(l.jsx)("div",{className:"App",children:n?Object(l.jsx)(J,{handleLogOut:function(){r.auth().signOut()}}):Object(l.jsx)(d,{email:u,password:f,setEmail:b,setPassword:g,handleLogin:function(){P(),r.auth().signInWithEmailAndPassword(u,f).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":y(e.message);break;case"auth/wrong-password":S(e.message)}}))},handleSignUp:function(){P(),r.auth().createUserWithEmailAndPassword(u,f).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":y(e.message);break;case"auth/week-password":S(e.message)}}))},setHasAccount:T,hasAccount:k,emailError:m,passwordError:C})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};n(82);i.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(V,{})}),document.getElementById("root")),X()}},[[83,1,2]]]);
//# sourceMappingURL=main.4a083a4d.chunk.js.map